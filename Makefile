x016_Grey0=16 000000
x017_NavyBlue=17 00005f
x018_DarkBlue=18 000087
x019_Blue3=19 0000af
x020_Blue3=20 0000d7
x021_Blue1=21 0000ff
x022_DarkGreen=22 005f00
x023_DeepSkyBlue4=23 005f5f
x024_DeepSkyBlue4=24 005f87
x025_DeepSkyBlue4=25 005faf
x026_DodgerBlue3=26 005fd7
x027_DodgerBlue2=27 005fff
x028_Green4=28 008700
x029_SpringGreen4=29 00875f
x030_Turquoise4=30 008787
x031_DeepSkyBlue3=31 0087af
x032_DeepSkyBlue3=32 0087d7
x033_DodgerBlue1=33 0087ff
x034_Green3=34 00af00
x035_SpringGreen3=35 00af5f
x036_DarkCyan=36 00af87
x037_LightSeaGreen=37 00afaf
x038_DeepSkyBlue2=38 00afd7
x039_DeepSkyBlue1=39 00afff
x040_Green3=40 00d700
x041_SpringGreen3=41 00d75f
x042_SpringGreen2=42 00d787
x043_Cyan3=43 00d7af
x044_DarkTurquoise=44 00d7d7
x045_Turquoise2=45 00d7ff
x046_Green1=46 00ff00
x047_SpringGreen2=47 00ff5f
x048_SpringGreen1=48 00ff87
x049_MediumSpringGreen=49 00ffaf
x050_Cyan2=50 00ffd7
x051_Cyan1=51 00ffff
x052_DarkRed=52 5f0000
x053_DeepPink4=53 5f005f
x054_Purple4=54 5f0087
x055_Purple4=55 5f00af
x056_Purple3=56 5f00d7
x057_BlueViolet=57 5f00ff
x058_Orange4=58 5f5f00
x059_Grey37=59 5f5f5f
x060_MediumPurple4=60 5f5f87
x061_SlateBlue3=61 5f5faf
x062_SlateBlue3=62 5f5fd7
x063_RoyalBlue1=63 5f5fff
x064_Chartreuse4=64 5f8700
x065_DarkSeaGreen4=65 5f875f
x066_PaleTurquoise4=66 5f8787
x067_SteelBlue=67 5f87af
x068_SteelBlue3=68 5f87d7
x069_CornflowerBlue=69 5f87ff
x070_Chartreuse3=70 5faf00
x071_DarkSeaGreen4=71 5faf5f
x072_CadetBlue=72 5faf87
x073_CadetBlue=73 5fafaf
x074_SkyBlue3=74 5fafd7
x075_SteelBlue1=75 5fafff
x076_Chartreuse3=76 5fd700
x077_PaleGreen3=77 5fd75f
x078_SeaGreen3=78 5fd787
x079_Aquamarine3=79 5fd7af
x080_MediumTurquoise=80 5fd7d7
x081_SteelBlue1=81 5fd7ff
x082_Chartreuse2=82 5fff00
x083_SeaGreen2=83 5fff5f
x084_SeaGreen1=84 5fff87
x085_SeaGreen1=85 5fffaf
x086_Aquamarine1=86 5fffd7
x087_DarkSlateGray2=87 5fffff
x088_DarkRed=88 870000
x089_DeepPink4=89 87005f
x090_DarkMagenta=90 870087
x091_DarkMagenta=91 8700af
x092_DarkViolet=92 8700d7
x093_Purple=93 8700ff
x094_Orange4=94 875f00
x095_LightPink4=95 875f5f
x096_Plum4=96 875f87
x097_MediumPurple3=97 875faf
x098_MediumPurple3=98 875fd7
x099_SlateBlue1=99 875fff
x100_Yellow4=100 878700
x101_Wheat4=101 87875f
x102_Grey53=102 878787
x103_LightSlateGrey=103 8787af
x104_MediumPurple=104 8787d7
x105_LightSlateBlue=105 8787ff
x106_Yellow4=106 87af00
x107_DarkOliveGreen3=107 87af5f
x108_DarkSeaGreen=108 87af87
x109_LightSkyBlue3=109 87afaf
x110_LightSkyBlue3=110 87afd7
x111_SkyBlue2=111 87afff
x112_Chartreuse2=112 87d700
x113_DarkOliveGreen3=113 87d75f
x114_PaleGreen3=114 87d787
x115_DarkSeaGreen3=115 87d7af
x116_DarkSlateGray3=116 87d7d7
x117_SkyBlue1=117 87d7ff
x118_Chartreuse1=118 87ff00
x119_LightGreen=119 87ff5f
x120_LightGreen=120 87ff87
x121_PaleGreen1=121 87ffaf
x122_Aquamarine1=122 87ffd7
x123_DarkSlateGray1=123 87ffff
x124_Red3=124 af0000
x125_DeepPink4=125 af005f
x126_MediumVioletRed=126 af0087
x127_Magenta3=127 af00af
x128_DarkViolet=128 af00d7
x129_Purple=129 af00ff
x130_DarkOrange3=130 af5f00
x131_IndianRed=131 af5f5f
x132_HotPink3=132 af5f87
x133_MediumOrchid3=133 af5faf
x134_MediumOrchid=134 af5fd7
x135_MediumPurple2=135 af5fff
x136_DarkGoldenrod=136 af8700
x137_LightSalmon3=137 af875f
x138_RosyBrown=138 af8787
x139_Grey63=139 af87af
x140_MediumPurple2=140 af87d7
x141_MediumPurple1=141 af87ff
x142_Gold3=142 afaf00
x143_DarkKhaki=143 afaf5f
x144_NavajoWhite3=144 afaf87
x145_Grey69=145 afafaf
x146_LightSteelBlue3=146 afafd7
x147_LightSteelBlue=147 afafff
x148_Yellow3=148 afd700
x149_DarkOliveGreen3=149 afd75f
x150_DarkSeaGreen3=150 afd787
x151_DarkSeaGreen2=151 afd7af
x152_LightCyan3=152 afd7d7
x153_LightSkyBlue1=153 afd7ff
x154_GreenYellow=154 afff00
x155_DarkOliveGreen2=155 afff5f
x156_PaleGreen1=156 afff87
x157_DarkSeaGreen2=157 afffaf
x158_DarkSeaGreen1=158 afffd7
x159_PaleTurquoise1=159 afffff
x160_Red3=160 d70000
x161_DeepPink3=161 d7005f
x162_DeepPink3=162 d70087
x163_Magenta3=163 d700af
x164_Magenta3=164 d700d7
x165_Magenta2=165 d700ff
x166_DarkOrange3=166 d75f00
x167_IndianRed=167 d75f5f
x168_HotPink3=168 d75f87
x169_HotPink2=169 d75faf
x170_Orchid=170 d75fd7
x171_MediumOrchid1=171 d75fff
x172_Orange3=172 d78700
x173_LightSalmon3=173 d7875f
x174_LightPink3=174 d78787
x175_Pink3=175 d787af
x176_Plum3=176 d787d7
x177_Violet=177 d787ff
x178_Gold3=178 d7af00
x179_LightGoldenrod3=179 d7af5f
x180_Tan=180 d7af87
x181_MistyRose3=181 d7afaf
x182_Thistle3=182 d7afd7
x183_Plum2=183 d7afff
x184_Yellow3=184 d7d700
x185_Khaki3=185 d7d75f
x186_LightGoldenrod2=186 d7d787
x187_LightYellow3=187 d7d7af
x188_Grey84=188 d7d7d7
x189_LightSteelBlue1=189 d7d7ff
x190_Yellow2=190 d7ff00
x191_DarkOliveGreen1=191 d7ff5f
x192_DarkOliveGreen1=192 d7ff87
x193_DarkSeaGreen1=193 d7ffaf
x194_Honeydew2=194 d7ffd7
x195_LightCyan1=195 d7ffff
x196_Red1=196 ff0000
x197_DeepPink2=197 ff005f
x198_DeepPink1=198 ff0087
x199_DeepPink1=199 ff00af
x200_Magenta2=200 ff00d7
x201_Magenta1=201 ff00ff
x202_OrangeRed1=202 ff5f00
x203_IndianRed1=203 ff5f5f
x204_IndianRed1=204 ff5f87
x205_HotPink=205 ff5faf
x206_HotPink=206 ff5fd7
x207_MediumOrchid1=207 ff5fff
x208_DarkOrange=208 ff8700
x209_Salmon1=209 ff875f
x210_LightCoral=210 ff8787
x211_PaleVioletRed1=211 ff87af
x212_Orchid2=212 ff87d7
x213_Orchid1=213 ff87ff
x214_Orange1=214 ffaf00
x215_SandyBrown=215 ffaf5f
x216_LightSalmon1=216 ffaf87
x217_LightPink1=217 ffafaf
x218_Pink1=218 ffafd7
x219_Plum1=219 ffafff
x220_Gold1=220 ffd700
x221_LightGoldenrod2=221 ffd75f
x222_LightGoldenrod2=222 ffd787
x223_NavajoWhite1=223 ffd7af
x224_MistyRose1=224 ffd7d7
x225_Thistle1=225 ffd7ff
x226_Yellow1=226 ffff00
x227_LightGoldenrod1=227 ffff5f
x228_Khaki1=228 ffff87
x229_Wheat1=229 ffffaf
x230_Cornsilk1=230 ffffd7
x231_Grey100=231 ffffff
x232_Grey3=232 080808
x233_Grey7=233 121212
x234_Grey11=234 1c1c1c
x235_Grey15=235 262626
x236_Grey19=236 303030
x237_Grey23=237 3a3a3a
x238_Grey27=238 444444
x239_Grey30=239 4e4e4e
x240_Grey35=240 585858
x241_Grey39=241 626262
x242_Grey42=242 6c6c6c
x243_Grey46=243 767676
x244_Grey50=244 808080
x245_Grey54=245 8a8a8a
x246_Grey58=246 949494
x247_Grey62=247 9e9e9e
x248_Grey66=248 a8a8a8
x249_Grey70=249 b2b2b2
x250_Grey74=250 bcbcbc
x251_Grey78=251 c6c6c6
x252_Grey82=252 d0d0d0
x253_Grey85=253 dadada
x254_Grey89=254 e4e4e4
x255_Grey93=255 eeeeee

# #67d8d8
x000_Black=${x234_Grey11}
x001_Red=${x160_Red3}
x002_Green=${x149_DarkOliveGreen3}
x003_Yellow=${x185_Khaki3}
x004_Blue=${x069_CornflowerBlue}
x005_Magenta=${x163_Magenta3}
x006_Cyan=${x037_LightSeaGreen}
x007_White=${x252_Grey82}
x008_BrightBlack=${x239_Grey30}
x009_BrightRed=${x167_IndianRed}
x010_BrightGreen=${x191_DarkOliveGreen1}
x011_BrightYellow=${x220_Gold1}
x012_BrightBlue=${x075_SteelBlue1}
x012_BrightBlue=${x074_SkyBlue3}
x013_BrightMagenta=${x162_DeepPink3}
x014_BrightCyan=${x080_MediumTurquoise}
x015_BrightWhite=${x255_Grey93}

ALL_COLORS=x000_Black x001_Red x002_Green x003_Yellow x004_Blue x005_Magenta x006_Cyan x007_White x008_BrightBlack x009_BrightRed x010_BrightGreen x011_BrightYellow x012_BrightBlue x013_BrightMagenta x014_BrightCyan x015_BrightWhite x016_Grey0 x017_NavyBlue x018_DarkBlue x019_Blue3 x020_Blue3 x021_Blue1 x022_DarkGreen x023_DeepSkyBlue4 x024_DeepSkyBlue4 x025_DeepSkyBlue4 x026_DodgerBlue3 x027_DodgerBlue2 x028_Green4 x029_SpringGreen4 x030_Turquoise4 x031_DeepSkyBlue3 x032_DeepSkyBlue3 x033_DodgerBlue1 x034_Green3 x035_SpringGreen3 x036_DarkCyan x037_LightSeaGreen x038_DeepSkyBlue2 x039_DeepSkyBlue1 x040_Green3 x041_SpringGreen3 x042_SpringGreen2 x043_Cyan3 x044_DarkTurquoise x045_Turquoise2 x046_Green1 x047_SpringGreen2 x048_SpringGreen1 x049_MediumSpringGreen x050_Cyan2 x051_Cyan1 x052_DarkRed x053_DeepPink4 x054_Purple4 x055_Purple4 x056_Purple3 x057_BlueViolet x058_Orange4 x059_Grey37 x060_MediumPurple4 x061_SlateBlue3 x062_SlateBlue3 x063_RoyalBlue1 x064_Chartreuse4 x065_DarkSeaGreen4 x066_PaleTurquoise4 x067_SteelBlue x068_SteelBlue3 x069_CornflowerBlue x070_Chartreuse3 x071_DarkSeaGreen4 x072_CadetBlue x073_CadetBlue x074_SkyBlue3 x075_SteelBlue1 x076_Chartreuse3 x077_PaleGreen3 x078_SeaGreen3 x079_Aquamarine3 x080_MediumTurquoise x081_SteelBlue1 x082_Chartreuse2 x083_SeaGreen2 x084_SeaGreen1 x085_SeaGreen1 x086_Aquamarine1 x087_DarkSlateGray2 x088_DarkRed x089_DeepPink4 x090_DarkMagenta x091_DarkMagenta x092_DarkViolet x093_Purple x094_Orange4 x095_LightPink4 x096_Plum4 x097_MediumPurple3 x098_MediumPurple3 x099_SlateBlue1 x100_Yellow4 x101_Wheat4 x102_Grey53 x103_LightSlateGrey x104_MediumPurple x105_LightSlateBlue x106_Yellow4 x107_DarkOliveGreen3 x108_DarkSeaGreen x109_LightSkyBlue3 x110_LightSkyBlue3 x111_SkyBlue2 x112_Chartreuse2 x113_DarkOliveGreen3 x114_PaleGreen3 x115_DarkSeaGreen3 x116_DarkSlateGray3 x117_SkyBlue1 x118_Chartreuse1 x119_LightGreen x120_LightGreen x121_PaleGreen1 x122_Aquamarine1 x123_DarkSlateGray1 x124_Red3 x125_DeepPink4 x126_MediumVioletRed x127_Magenta3 x128_DarkViolet x129_Purple x130_DarkOrange3 x131_IndianRed x132_HotPink3 x133_MediumOrchid3 x134_MediumOrchid x135_MediumPurple2 x136_DarkGoldenrod x137_LightSalmon3 x138_RosyBrown x139_Grey63 x140_MediumPurple2 x141_MediumPurple1 x142_Gold3 x143_DarkKhaki x144_NavajoWhite3 x145_Grey69 x146_LightSteelBlue3 x147_LightSteelBlue x148_Yellow3 x149_DarkOliveGreen3 x150_DarkSeaGreen3 x151_DarkSeaGreen2 x152_LightCyan3 x153_LightSkyBlue1 x154_GreenYellow x155_DarkOliveGreen2 x156_PaleGreen1 x157_DarkSeaGreen2 x158_DarkSeaGreen1 x159_PaleTurquoise1 x160_Red3 x161_DeepPink3 x162_DeepPink3 x163_Magenta3 x164_Magenta3 x165_Magenta2 x166_DarkOrange3 x167_IndianRed x168_HotPink3 x169_HotPink2 x170_Orchid x171_MediumOrchid1 x172_Orange3 x173_LightSalmon3 x174_LightPink3 x175_Pink3 x176_Plum3 x177_Violet x178_Gold3 x179_LightGoldenrod3 x180_Tan x181_MistyRose3 x182_Thistle3 x183_Plum2 x184_Yellow3 x185_Khaki3 x186_LightGoldenrod2 x187_LightYellow3 x188_Grey84 x189_LightSteelBlue1 x190_Yellow2 x191_DarkOliveGreen1 x192_DarkOliveGreen1 x193_DarkSeaGreen1 x194_Honeydew2 x195_LightCyan1 x196_Red1 x197_DeepPink2 x198_DeepPink1 x199_DeepPink1 x200_Magenta2 x201_Magenta1 x202_OrangeRed1 x203_IndianRed1 x204_IndianRed1 x205_HotPink x206_HotPink x207_MediumOrchid1 x208_DarkOrange x209_Salmon1 x210_LightCoral x211_PaleVioletRed1 x212_Orchid2 x213_Orchid1 x214_Orange1 x215_SandyBrown x216_LightSalmon1 x217_LightPink1 x218_Pink1 x219_Plum1 x220_Gold1 x221_LightGoldenrod2 x222_LightGoldenrod2 x223_NavajoWhite1 x224_MistyRose1 x225_Thistle1 x226_Yellow1 x227_LightGoldenrod1 x228_Khaki1 x229_Wheat1 x230_Cornsilk1 x231_Grey100 x232_Grey3 x233_Grey7 x234_Grey11 x235_Grey15 x236_Grey19 x237_Grey23 x238_Grey27 x239_Grey30 x240_Grey35 x241_Grey39 x242_Grey42 x243_Grey46 x244_Grey50 x245_Grey54 x246_Grey58 x247_Grey62 x248_Grey66 x249_Grey70 x250_Grey74 x251_Grey78 x252_Grey82 x253_Grey85 x254_Grey89 x255_Grey93
USED_COLORS=$(shell grep -o "x[0-9]\+_[A-Za-z0-9]\+" vim/colors.vim | sort | uniq)

$(ALL_COLORS): vim/colors/default.vim
	@echo $@
	@sed -i.bak "s/ctermfg=$@/ctermfg=$(word 1, $($@))/g" vim/colors/default.vim
	@sed -i.bak "s/ctermbg=$@/ctermbg=$(word 1, $($@))/g" vim/colors/default.vim
	@sed -i.bak "s/$@/#$(word 2, $($@))/g" vim/colors/default.vim

DOTFILES=~/.dotfiles

colors: ${USED_COLORS}
	@sed -i.bak "s/black:.*/black: '#$(word 2, $(x000_Black))',/g" hyper/hyper.js
	@sed -i.bak "s/red:.*/red: '#$(word 2, $(x001_Red))',/g" hyper/hyper.js
	@sed -i.bak "s/green:.*/green: '#$(word 2, $(x002_Green))',/g" hyper/hyper.js
	@sed -i.bak "s/yellow:.*/yellow: '#$(word 2, $(x003_Yellow))',/g" hyper/hyper.js
	@sed -i.bak "s/blue:.*/blue: '#$(word 2, $(x004_Blue))',/g" hyper/hyper.js
	@sed -i.bak "s/magenta:.*/magenta: '#$(word 2, $(x005_Magenta))',/g" hyper/hyper.js
	@sed -i.bak "s/cyan:.*/cyan: '#$(word 2, $(x006_Cyan))',/g" hyper/hyper.js
	@sed -i.bak "s/white:.*/white: '#$(word 2, $(x007_White))',/g" hyper/hyper.js
	@sed -i.bak "s/brightBlack:.*/brightBlack: '#$(word 2, $(x008_BrightBlack))',/g" hyper/hyper.js
	@sed -i.bak "s/brightRed:.*/brightRed: '#$(word 2, $(x009_BrightRed))',/g" hyper/hyper.js
	@sed -i.bak "s/brightGreen:.*/brightGreen: '#$(word 2, $(x010_BrightGreen))',/g" hyper/hyper.js
	@sed -i.bak "s/brightYellow:.*/brightYellow: '#$(word 2, $(x011_BrightYellow))',/g" hyper/hyper.js
	@sed -i.bak "s/brightBlue:.*/brightBlue: '#$(word 2, $(x012_BrightBlue))',/g" hyper/hyper.js
	@sed -i.bak "s/brightMagenta:.*/brightMagenta: '#$(word 2, $(x013_BrightMagenta))',/g" hyper/hyper.js
	@sed -i.bak "s/brightCyan:.*/brightCyan: '#$(word 2, $(x014_BrightCyan))',/g" hyper/hyper.js
	@sed -i.bak "s/brightWhite:.*/brightWhite: '#$(word 2, $(x015_BrightWhite))',/g" hyper/hyper.js
	@rm -f hyper/hyper.js.bak
	@rm -f vim/colors/default.vim.bak

vim/colors/default.vim:
	@cp vim/colors.vim vim/colors/default.vim

default:
	@echo "  install       Install all dotfiles"
	@echo "  uninstall     Remove all dotfiles"

clean:
	rm -f vim/autoload/plug.vim

install: ~/.gitconfig ~/.gvimrc ~/.hyper.js ~/.vimrc vim/autoload/plug.vim

uninstall:
	rm -f $(HOME)/.gitconfig
	rm -f $(HOME)/.gvimrc
	rm -f $(HOME)/.hyper.js
	rm -f $(HOME)/.vimrc

~/.gitconfig:
	ln -s $(DOTFILES)/git/gitconfig $(HOME)/.gitconfig

~/.gvimrc:
	ln -s $(DOTFILES)/vim/gvimrc $(HOME)/.gvimrc

~/.hyper.js:
	ln -s $(DOTFILES)/hyper/hyper.js $(HOME)/.hyper.js

~/.vimrc:
	ln -s $(DOTFILES)/vim/vimrc $(HOME)/.vimrc

vim/autoload/plug.vim:
	curl -fLo \
		vim/autoload/plug.vim --create-dirs \
		https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim

.PHONY: clean default install uninstall vim/colors/default.vim hyper/colors.js colors
